\usepackage[all]{background}

%----------------------------------------------------------------------------------------
%   SHOW / HIDE PART TITLE IN THE LEFT BAR
%----------------------------------------------------------------------------------------

\newif\ifbackgroundtitlevisible
\backgroundtitlevisibletrue

\newif\ifbackgroundbarvisible
\backgroundbarvisibletrue

%----------------------------------------------------------------------------------------
%   CONFIGURE LEFT BAR
%----------------------------------------------------------------------------------------

\backgroundsetup{
  scale=1,
  color=bgacc,
  opacity=1,
  angle=0,
  position=current page.south west,
  vshift=0mm,
  hshift=0mm, % (originally 16mm) Adjust the distance from the left edge of the page
  contents={%
    \ifodd\value{page}  
      \tikz{
        \node at (-2\paperwidth, 0mm) {};
        \node at (30mm, 0mm) {};
        \ifbackgroundbarvisible
          \fill[bgacc] (-4mm,\paperheight) rectangle (4mm,-\paperheight); % bar width 6mm
        \fi
        \ifbackgroundtitlevisible
          \node[rotate=90, fgacc, font=\huge\bfseries\headingfontfamily, anchor=west] at (0mm, 16mm) {\currentparttitle}; %at 4mm, 16mm og
        \fi
      }
    \else
      \tikz{
        \node at (-30mm, 0mm) {};
        \ifbackgroundbarvisible
          \fill[bgacc] (0,\paperheight) rectangle (8mm,-\paperheight); % bar width 6mm
        \fi
        \ifbackgroundtitlevisible
          \node[rotate=90, fgacc, font=\huge\bfseries\headingfontfamily, anchor=west] at (4mm, 16mm) {\currentparttitle}; %at 4mm, 16mm og
        \fi
      }
    \fi
  }
}
